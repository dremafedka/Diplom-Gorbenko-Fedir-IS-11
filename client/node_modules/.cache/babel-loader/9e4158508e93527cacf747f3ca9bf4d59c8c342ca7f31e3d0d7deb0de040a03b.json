{"ast":null,"code":"var _jsxFileName = \"D:\\\\ProjectD\\\\client\\\\src\\\\components\\\\Dashboards\\\\AthleteDashboard\\\\AthleteDashboard.js\",\n  _s = $RefreshSig$();\n// src/components/AthleteDashboard/AthleteDashboard.js\n\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport NavigationPanel from './NavigationPanel';\nimport AvailableTrainingsSection from './AvailableTrainingsSection';\nimport YourTrainingsSection from './YourTrainingsSection';\nimport HistorySection from './HistorySection';\nimport ProfileSection from './ProfileSection';\nimport Modal from '../../Common/Modal';\nimport { API_BASE_URL, getTrainings, getAthleteTrainings, getAthleteProfile, getRecommendations, getCoachProfile, getCoachReviews, submitReview, updateReview, deleteReview, signupForTraining, cancelEnrollment, changeAthletePassword, updateAthleteProfile, uploadAthleteAvatar, getTrainingParticipants } from '../../../services/api';\nimport './AthleteDashboard.css';\n\n// Імпорти логотипів\nimport footballLogo from '../../../assets/logos/football.jpg';\nimport basketballLogo from '../../../assets/logos/basketball.jpg';\nimport badmintonLogo from '../../../assets/logos/badminton.jpg';\nimport volleyballLogo from '../../../assets/logos/volleyball.jpg';\nimport baseballLogo from '../../../assets/logos/baseball.jpg';\nimport rugbyLogo from '../../../assets/logos/rugby.jpg';\nimport hockeyLogo from '../../../assets/logos/hockey.jpg';\nimport karateLogo from '../../../assets/logos/karate.jpg';\nimport boxingLogo from '../../../assets/logos/boxing.jpg';\nimport wushuLogo from '../../../assets/logos/wushu.jpg';\nimport jiuJitsuLogo from '../../../assets/logos/jiu_jitsu.jpg';\nimport mmaLogo from '../../../assets/logos/mma.jpg';\nimport runningLogo from '../../../assets/logos/running.jpg';\nimport jumpingLogo from '../../../assets/logos/jumping.jpg';\nimport throwingLogo from '../../../assets/logos/throwing.jpg';\nimport swimmingLogo from '../../../assets/logos/swimming.jpg';\nimport sailingLogo from '../../../assets/logos/sailing.jpg';\nimport canoeingLogo from '../../../assets/logos/canoeing.jpg';\nimport skateboardingLogo from '../../../assets/logos/skateboarding.jpg';\nimport snowboardingLogo from '../../../assets/logos/snowboarding.jpg';\nimport climbingLogo from '../../../assets/logos/climbing.jpg';\nimport fitnessLogo from '../../../assets/logos/fitness.jpg';\nimport strengthTrainingLogo from '../../../assets/logos/strength_training.jpg';\nimport yogaLogo from '../../../assets/logos/yoga.jpg';\n\n// Мапа секція → логотип\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst sportLogos = {\n  \"Футбол\": footballLogo,\n  \"Баскетбол\": basketballLogo,\n  \"Бадмінтон\": badmintonLogo,\n  \"Волейбол\": volleyballLogo,\n  \"Бейсбол\": baseballLogo,\n  \"Регбі\": rugbyLogo,\n  \"Хокей\": hockeyLogo,\n  \"Карате\": karateLogo,\n  \"Бокс\": boxingLogo,\n  \"Ушу\": wushuLogo,\n  \"Джиу-джитсу\": jiuJitsuLogo,\n  \"ММА\": mmaLogo,\n  \"Біг\": runningLogo,\n  \"Стрибки\": jumpingLogo,\n  \"Метання\": throwingLogo,\n  \"Плавання\": swimmingLogo,\n  \"Вітрильний спорт\": sailingLogo,\n  \"Каноїзм\": canoeingLogo,\n  \"Скейбординг\": skateboardingLogo,\n  \"Сноубординг\": snowboardingLogo,\n  \"Альпінізм\": climbingLogo,\n  \"Фітнес\": fitnessLogo,\n  \"Силові тренування\": strengthTrainingLogo,\n  \"Йога\": yogaLogo\n};\n\n// Мапа категорія → список секцій\nconst sportCategories = {\n  \"Ігри з м'ячем\": [\"Футбол\", \"Баскетбол\", \"Бадмінтон\", \"Волейбол\", \"Бейсбол\", \"Регбі\", \"Хокей\"],\n  \"Бойові мистецтва\": [\"Карате\", \"Бокс\", \"Ушу\", \"Джиу-джитсу\", \"ММА\"],\n  \"Легка атлетика\": [\"Біг\", \"Стрибки\", \"Метання\"],\n  \"Водні види спорту\": [\"Плавання\", \"Вітрильний спорт\", \"Каноїзм\"],\n  \"Екстремальні види спорту\": [\"Скейбординг\", \"Сноубординг\", \"Альпінізм\"],\n  \"Фітнес та тренажерний зал\": [\"Фітнес\", \"Силові тренування\", \"Йога\"]\n};\nconst DEFAULT_AVATAR = `${API_BASE_URL}/avatars/default.png`;\nexport default function AthleteDashboard() {\n  _s();\n  const history = useHistory();\n\n  // Навігація\n  const [activeTab, setActiveTab] = useState('available');\n\n  // Загальні дані\n  const [allTrainings, setAllTrainings] = useState([]);\n  const [registeredTrainings, setRegisteredTrainings] = useState([]);\n  const [recommendations, setRecommendations] = useState([]);\n  const [profile, setProfile] = useState(null);\n  const [error, setError] = useState('');\n\n  // Модалки та повідомлення\n  const [modalMessage, setModalMessage] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [showCancelConfirm, setShowCancelConfirm] = useState(false);\n  const [toCancel, setToCancel] = useState(null);\n\n  // Модалка тренера та відгуки\n  const [coachProfile, setCoachProfile] = useState(null);\n  const [showCoachModal, setShowCoachModal] = useState(false);\n  const [coachError, setCoachError] = useState('');\n  const [reviews, setReviews] = useState([]);\n  const [avgRating, setAvgRating] = useState(null);\n  const [reviewCount, setReviewCount] = useState(0);\n  const [newRating, setNewRating] = useState(5);\n  const [newComment, setNewComment] = useState('');\n  const [editingReviewId, setEditingReviewId] = useState(null);\n\n  // Профіль спортсмена\n  const [editProfileMode, setEditProfileMode] = useState(false);\n  const [nameInput, setNameInput] = useState('');\n  const [ageInput, setAgeInput] = useState('');\n  const [phoneInput, setPhoneInput] = useState('');\n  const [descriptionInput, setDescriptionInput] = useState('');\n  const [favoriteSports, setFavoriteSports] = useState([]);\n  const [avatarFile, setAvatarFile] = useState(null);\n  const [avatarPreview, setAvatarPreview] = useState('');\n  const [profileError, setProfileError] = useState('');\n  const [showProfileSuccess, setShowProfileSuccess] = useState(false);\n  const [showPassMode, setShowPassMode] = useState(false);\n  const [oldPass, setOldPass] = useState('');\n  const [newPass, setNewPass] = useState('');\n  const [confirmPass, setConfirmPass] = useState('');\n  const [passError, setPassError] = useState('');\n  const [passSuccess, setPassSuccess] = useState(false);\n\n  // Фільтри для доступних тренувань\n  const [filterCategory, setFilterCategory] = useState('');\n  const [filterSection, setFilterSection] = useState('');\n  const [sortOption, setSortOption] = useState('date_asc');\n\n  // Для модалки деталей тренування\n  const [selectedTraining, setSelectedTraining] = useState(null);\n  const [participants, setParticipants] = useState([]);\n\n  // Початкове завантаження даних\n  useEffect(() => {\n    const athleteId = localStorage.getItem('userId');\n    if (!athleteId) {\n      setError('Будь ласка, увійдіть як спортсмен');\n      return;\n    }\n    Promise.all([getTrainings(), getAthleteTrainings(athleteId), getAthleteProfile(athleteId), getRecommendations(athleteId)]).then(([allRes, regRes, profRes, recRes]) => {\n      // Тренування\n      setAllTrainings(allRes.trainings);\n      setRegisteredTrainings(regRes.trainings);\n\n      // Профіль спортсмена\n      const prof = profRes.profile;\n      setProfile(prof);\n      setNameInput(prof.name);\n      setAgeInput(prof.age);\n      setPhoneInput(prof.phone || '');\n      setDescriptionInput(prof.description || '');\n      setFavoriteSports(prof.favorite_sports || []);\n      setAvatarPreview(prof.avatar_url ? `${prof.avatar_url}?t=${Date.now()}` : DEFAULT_AVATAR);\n\n      // Рекомендації\n      const enriched = recRes.recommendations.map(r => {\n        const full = allRes.trainings.find(t => t._id === r.id);\n        return full ? {\n          ...full,\n          ...r\n        } : {\n          ...r\n        };\n      });\n      setRecommendations(enriched);\n    }).catch(err => {\n      console.error(err);\n      setError(err.message);\n    });\n  }, []);\n\n  // Оновлення списків\n  const fetchAllTrainings = async () => {\n    try {\n      const {\n        trainings\n      } = await getTrainings();\n      setAllTrainings(trainings);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n  const fetchRegisteredTrainings = async () => {\n    const athleteId = localStorage.getItem('userId');\n    try {\n      const {\n        trainings\n      } = await getAthleteTrainings(athleteId);\n      setRegisteredTrainings(trainings);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  // Формат дати/часу\n  const formatDate = iso => new Date(iso).toLocaleDateString('uk-UA', {\n    day: '2-digit',\n    month: '2-digit',\n    year: 'numeric'\n  });\n  const formatTime = iso => new Date(iso).toLocaleTimeString([], {\n    hour: '2-digit',\n    minute: '2-digit'\n  });\n\n  // Обробники фільтрів\n  const handleFilterCategory = cat => {\n    setFilterCategory(cat);\n    setFilterSection('');\n  };\n  const handleFilterSection = sec => setFilterSection(sec);\n  const handleSortOption = opt => setSortOption(opt);\n\n  // Хендлери запису/скасування\n  const handleSignup = async trainingId => {\n    setError('');\n    const athleteId = localStorage.getItem('userId');\n    try {\n      const res = await signupForTraining(trainingId, athleteId);\n      setModalMessage(res.message);\n      setShowModal(true);\n      fetchAllTrainings();\n      fetchRegisteredTrainings();\n      setRecommendations(prev => prev.filter(r => r._id !== trainingId));\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n  const openCancelConfirm = training => {\n    setToCancel(training);\n    setShowCancelConfirm(true);\n  };\n  const handleCancelEnrollment = async () => {\n    const athleteId = localStorage.getItem('userId');\n    try {\n      await cancelEnrollment(toCancel._id, athleteId);\n      setModalMessage('Запис успішно скасовано.');\n      setShowModal(true);\n      setShowCancelConfirm(false);\n      fetchAllTrainings();\n      fetchRegisteredTrainings();\n    } catch (err) {\n      setError(err.message);\n      setShowCancelConfirm(false);\n    }\n  };\n\n  // Оновити рекомендації\n  const handleRefreshRecommendations = async () => {\n    try {\n      const athleteId = localStorage.getItem('userId');\n      const {\n        recommendations: recs\n      } = await getRecommendations(athleteId);\n      const enriched = recs.map(r => {\n        const full = allTrainings.find(t => t._id === r.id);\n        return full ? {\n          ...full,\n          ...r\n        } : {\n          ...r\n        };\n      });\n      setRecommendations(enriched);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  // Перегляд деталей тренування\n  const handleViewDetails = async training => {\n    setSelectedTraining(training);\n    try {\n      const {\n        participants\n      } = await getTrainingParticipants(training._id);\n      setParticipants(participants);\n      setShowModal(true);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  // Перегляд профілю тренера + відгуки\n  const handleCoachClick = async coachId => {\n    setCoachError('');\n    try {\n      const {\n        profile: coach\n      } = await getCoachProfile(coachId);\n      setCoachProfile(coach);\n      const {\n        reviews: raw,\n        average_rating,\n        count\n      } = await getCoachReviews(coachId);\n      // Додаємо аватарки спортсменів\n      const withAvatars = await Promise.all(raw.map(async r => {\n        if (!r.athlete_id) return {\n          ...r,\n          athlete_avatar_url: DEFAULT_AVATAR\n        };\n        try {\n          const {\n            profile: ath\n          } = await getAthleteProfile(r.athlete_id);\n          const url = ath.avatar_url ? ath.avatar_url.startsWith('http') ? ath.avatar_url : `${API_BASE_URL}${ath.avatar_url}` : DEFAULT_AVATAR;\n          return {\n            ...r,\n            athlete_avatar_url: `${url}?t=${Date.now()}`\n          };\n        } catch {\n          return {\n            ...r,\n            athlete_avatar_url: DEFAULT_AVATAR\n          };\n        }\n      }));\n      setReviews(withAvatars);\n      setAvgRating(average_rating);\n      setReviewCount(count);\n      setNewRating(5);\n      setNewComment('');\n      setEditingReviewId(null);\n      setShowCoachModal(true);\n    } catch (err) {\n      setCoachError(err.message);\n    }\n  };\n\n  // Відправка/оновлення/видалення відгуку\n  const handleSubmitReview = async () => {\n    const athleteId = localStorage.getItem('userId');\n    if (!newComment.trim()) {\n      setCoachError('Коментар не може бути порожнім');\n      return;\n    }\n    if (!athleteId) {\n      setCoachError('Увійдіть, щоб залишити відгук');\n      return;\n    }\n    try {\n      if (editingReviewId) {\n        await updateReview(editingReviewId, {\n          athlete_id: athleteId,\n          rating: newRating,\n          comment: newComment\n        });\n      } else {\n        await submitReview({\n          coach_id: coachProfile.user_id,\n          athlete_id: athleteId,\n          rating: newRating,\n          comment: newComment\n        });\n      }\n      // Оновити список відгуків\n      const {\n        reviews: raw,\n        average_rating,\n        count\n      } = await getCoachReviews(coachProfile.user_id);\n      const withAvatars = await Promise.all(raw.map(async r => {\n        if (!r.athlete_id) return {\n          ...r,\n          athlete_avatar_url: DEFAULT_AVATAR\n        };\n        try {\n          const {\n            profile: ath\n          } = await getAthleteProfile(r.athlete_id);\n          const url = ath.avatar_url ? ath.avatar_url.startsWith('http') ? ath.avatar_url : `${API_BASE_URL}${ath.avatar_url}` : DEFAULT_AVATAR;\n          return {\n            ...r,\n            athlete_avatar_url: `${url}?t=${Date.now()}`\n          };\n        } catch {\n          return {\n            ...r,\n            athlete_avatar_url: DEFAULT_AVATAR\n          };\n        }\n      }));\n      setReviews(withAvatars);\n      setAvgRating(average_rating);\n      setReviewCount(count);\n      setEditingReviewId(null);\n      setNewRating(5);\n      setNewComment('');\n    } catch (err) {\n      setCoachError(err.message);\n    }\n  };\n  const handleDeleteReview = async id => {\n    setCoachError('');\n    const athleteId = localStorage.getItem('userId');\n    try {\n      await deleteReview(id, athleteId);\n      const {\n        reviews: raw,\n        average_rating,\n        count\n      } = await getCoachReviews(coachProfile.user_id);\n      const withAvatars = await Promise.all(raw.map(async r => {\n        if (!r.athlete_id) return {\n          ...r,\n          athlete_avatar_url: DEFAULT_AVATAR\n        };\n        try {\n          const {\n            profile: ath\n          } = await getAthleteProfile(r.athlete_id);\n          const url = ath.avatar_url ? ath.avatar_url.startsWith('http') ? ath.avatar_url : `${API_BASE_URL}${ath.avatar_url}` : DEFAULT_AVATAR;\n          return {\n            ...r,\n            athlete_avatar_url: `${url}?t=${Date.now()}`\n          };\n        } catch {\n          return {\n            ...r,\n            athlete_avatar_url: DEFAULT_AVATAR\n          };\n        }\n      }));\n      setReviews(withAvatars);\n      setAvgRating(average_rating);\n      setReviewCount(count);\n      setEditingReviewId(null);\n      setNewComment('');\n      setNewRating(5);\n    } catch (err) {\n      setCoachError(err.message);\n    }\n  };\n  const startEditReview = r => {\n    setCoachError('');\n    setEditingReviewId(r.id);\n    setNewRating(r.rating);\n    setNewComment(r.comment);\n  };\n\n  // Зміна полів профілю\n  const handleProfileFieldChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    switch (name) {\n      case 'nameInput':\n        setNameInput(value);\n        break;\n      case 'ageInput':\n        setAgeInput(value);\n        break;\n      case 'phoneInput':\n        setPhoneInput(value);\n        break;\n      case 'descriptionInput':\n        setDescriptionInput(value);\n        break;\n      case 'oldPass':\n        setOldPass(value);\n        break;\n      case 'newPass':\n        setNewPass(value);\n        break;\n      case 'confirmPass':\n        setConfirmPass(value);\n        break;\n      default:\n        break;\n    }\n  };\n  const toggleSport = sport => {\n    setFavoriteSports(prev => prev.includes(sport) ? prev.filter(s => s !== sport) : [...prev, sport]);\n  };\n\n  // Збереження профілю\n  const handleSaveProfile = async () => {\n    setProfileError('');\n    if (!nameInput.trim()) {\n      setProfileError('Поле \"Ім\\'я\" обов\\'язкове');\n      return;\n    }\n    const ageNum = parseInt(ageInput, 10);\n    if (isNaN(ageNum) || ageNum < 18) {\n      setProfileError('Вік має бути ≥ 18');\n      return;\n    }\n    try {\n      const {\n        profile: updated\n      } = await updateAthleteProfile({\n        user_id: profile.user_id,\n        name: nameInput.trim(),\n        age: ageNum,\n        phone: phoneInput,\n        description: descriptionInput,\n        favorite_sports: favoriteSports\n      });\n      setProfile(updated);\n      setShowProfileSuccess(true);\n      setEditProfileMode(false);\n    } catch (err) {\n      setProfileError(err.message);\n    }\n  };\n  const cancelEditProfile = () => {\n    setEditProfileMode(false);\n    setProfileError('');\n    setNameInput(profile.name);\n    setAgeInput(profile.age);\n    setPhoneInput(profile.phone || '');\n    setDescriptionInput(profile.description || '');\n    setFavoriteSports(profile.favorite_sports || []);\n  };\n\n  // Завантаження аватара\n  const handleAvatarFileChange = e => {\n    const file = e.target.files[0];\n    if (!file) return;\n    setAvatarFile(file);\n    setAvatarPreview(URL.createObjectURL(file));\n  };\n  const handleAvatarUpload = async () => {\n    if (!avatarFile) return;\n    setProfileError('');\n    try {\n      const {\n        avatar_url\n      } = await uploadAthleteAvatar(profile.user_id, avatarFile);\n      const fullUrl = avatar_url.startsWith('http') ? avatar_url : `${API_BASE_URL}${avatar_url}`;\n      setAvatarPreview(`${fullUrl}?t=${Date.now()}`);\n      setProfile(prev => ({\n        ...prev,\n        avatar_url: fullUrl\n      }));\n      setAvatarFile(null);\n      setShowProfileSuccess(true);\n    } catch (err) {\n      setProfileError(err.message);\n    }\n  };\n\n  // Зміна пароля\n  const handleChangePassword = async () => {\n    setPassError('');\n    if (newPass !== confirmPass) {\n      setPassError('Паролі не співпадають');\n      return;\n    }\n    try {\n      await changeAthletePassword({\n        user_id: profile.user_id,\n        old_password: oldPass,\n        new_password: newPass,\n        confirm_password: confirmPass\n      });\n      setPassSuccess(true);\n      setShowPassMode(false);\n      setOldPass('');\n      setNewPass('');\n      setConfirmPass('');\n    } catch (err) {\n      setPassError(err.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-container\",\n    children: [error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 523,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(NavigationPanel, {\n      activeTab: activeTab,\n      onTabChange: setActiveTab\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 525,\n      columnNumber: 7\n    }, this), activeTab === 'available' && /*#__PURE__*/_jsxDEV(AvailableTrainingsSection, {\n      allTrainings: allTrainings,\n      registeredTrainings: registeredTrainings,\n      recommendations: recommendations,\n      filterCategory: filterCategory,\n      filterSection: filterSection,\n      sortOption: sortOption,\n      onFilterCategory: setFilterCategory,\n      onFilterSection: setFilterSection,\n      onSortOption: setSortOption,\n      onResetFilters: () => {\n        setFilterCategory('');\n        setFilterSection('');\n        setSortOption('date_asc');\n      },\n      sportCategories: sportCategories,\n      sportLogos: sportLogos,\n      onSignup: handleSignup,\n      onViewCoach: handleCoachClick,\n      onRefreshRecs: handleRefreshRecommendations\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 528,\n      columnNumber: 11\n    }, this), activeTab === 'registered' && /*#__PURE__*/_jsxDEV(YourTrainingsSection, {\n      registeredTrainings: registeredTrainings,\n      sportLogos: sportLogos,\n      onViewDetails: handleViewDetails,\n      onCancel: openCancelConfirm,\n      onViewCoach: handleCoachClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 9\n    }, this), activeTab === 'profile' && profile && /*#__PURE__*/_jsxDEV(ProfileSection, {\n      profile: profile,\n      editMode: editProfileMode,\n      nameInput: nameInput,\n      ageInput: ageInput,\n      phoneInput: phoneInput,\n      descriptionInput: descriptionInput,\n      favoriteSports: favoriteSports,\n      allSections: Object.values(sportCategories).flat(),\n      onToggleEditMode: () => setEditProfileMode(true),\n      onChangeField: handleProfileFieldChange,\n      toggleSport: toggleSport,\n      onSaveProfile: handleSaveProfile,\n      onCancelEdit: cancelEditProfile,\n      avatarPreview: avatarPreview,\n      avatarFile: avatarFile,\n      onAvatarFileChange: handleAvatarFileChange,\n      onAvatarUpload: handleAvatarUpload,\n      showProfileSuccess: showProfileSuccess,\n      onCloseProfileSuccess: () => setShowProfileSuccess(false),\n      showPassMode: showPassMode,\n      onTogglePasswordMode: () => setShowPassMode(true),\n      oldPass: oldPass,\n      newPass: newPass,\n      confirmPass: confirmPass,\n      onChangePassword: handleChangePassword,\n      onCancelPassword: () => setShowPassMode(false),\n      passError: passError,\n      passSuccess: passSuccess\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 562,\n      columnNumber: 9\n    }, this), showModal && !selectedTraining && /*#__PURE__*/_jsxDEV(Modal, {\n      modalType: \"success\",\n      message: modalMessage,\n      onClose: () => setShowModal(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 596,\n      columnNumber: 9\n    }, this), showModal && selectedTraining && /*#__PURE__*/_jsxDEV(Modal, {\n      modalType: \"info\",\n      onClose: () => {\n        setShowModal(false);\n        setSelectedTraining(null);\n      },\n      className: \"training-detail-modal\",\n      message: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"training-detail-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"block-title\",\n            children: \"\\u0417\\u0430\\u0433\\u0430\\u043B\\u044C\\u043D\\u0430 \\u0456\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0456\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 608,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"general-info\",\n            children: [sportLogos[selectedTraining.section] && /*#__PURE__*/_jsxDEV(\"img\", {\n              src: sportLogos[selectedTraining.section],\n              alt: selectedTraining.section,\n              className: \"section-logo-lg\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 611,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"general-info-text\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0421\\u0435\\u043A\\u0446\\u0456\\u044F:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 618,\n                  columnNumber: 24\n                }, this), \" \", selectedTraining.section]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 618,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0414\\u0430\\u0442\\u0430:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 619,\n                  columnNumber: 24\n                }, this), \" \", formatDate(selectedTraining.start_time)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 619,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0427\\u0430\\u0441:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 620,\n                  columnNumber: 24\n                }, this), \" \", `${formatTime(selectedTraining.start_time)} – ${formatTime(selectedTraining.end_time)}`]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 620,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0426\\u0456\\u043D\\u0430:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 621,\n                  columnNumber: 24\n                }, this), \" \", selectedTraining.price, \" \", selectedTraining.currency]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 621,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0422\\u0440\\u0435\\u043D\\u0435\\u0440:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 622,\n                  columnNumber: 24\n                }, this), ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"coach-name-link\",\n                  onClick: () => handleCoachClick(selectedTraining.coach_id),\n                  children: selectedTraining.coach_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 623,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 622,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"\\u0423\\u0447\\u0430\\u0441\\u043D\\u0438\\u043A\\u0456\\u0432:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 627,\n                  columnNumber: 24\n                }, this), \" \", participants.length]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 627,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 617,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 607,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"block-title\",\n            children: \"\\u0423\\u0447\\u0430\\u0441\\u043D\\u0438\\u043A\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 632,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"participants-list\",\n            children: participants.length > 0 ? participants.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"participant-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: p.avatar_url || DEFAULT_AVATAR,\n                alt: p.name,\n                className: \"participant-avatar\",\n                onError: e => {\n                  e.currentTarget.src = DEFAULT_AVATAR;\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"participant-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"participant-name\",\n                  children: p.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 643,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"participant-age\",\n                  children: [\"\\u0412\\u0456\\u043A: \", p.age]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 644,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 642,\n                columnNumber: 23\n              }, this)]\n            }, p.user_id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 635,\n              columnNumber: 21\n            }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"no-participants\",\n              children: /*#__PURE__*/_jsxDEV(\"em\", {\n                children: \"\\u041D\\u0456\\u0445\\u0442\\u043E \\u043D\\u0435 \\u0437\\u0430\\u043F\\u0438\\u0441\\u0430\\u0432\\u0441\\u044F.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 648,\n                columnNumber: 52\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 648,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 633,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 631,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 606,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 601,\n      columnNumber: 9\n    }, this), showCancelConfirm && /*#__PURE__*/_jsxDEV(Modal, {\n      modalType: \"confirm\",\n      onClose: () => setShowCancelConfirm(false),\n      message: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cancel-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0412\\u0438 \\u0432\\u043F\\u0435\\u0432\\u043D\\u0435\\u043D\\u0456, \\u0449\\u043E \\u0445\\u043E\\u0447\\u0435\\u0442\\u0435 \\u0441\\u043A\\u0430\\u0441\\u0443\\u0432\\u0430\\u0442\\u0438 \\u0437\\u0430\\u043F\\u0438\\u0441?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 664,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cancel-modal-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"confirm-btn\",\n            onClick: handleCancelEnrollment,\n            children: \"\\u0422\\u0430\\u043A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 666,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cancel-btn\",\n            onClick: () => setShowCancelConfirm(false),\n            children: \"\\u041D\\u0456\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 667,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 665,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 663,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 659,\n      columnNumber: 9\n    }, this), showCoachModal && coachProfile && /*#__PURE__*/_jsxDEV(Modal, {\n      modalType: \"info\",\n      onClose: () => setShowCoachModal(false),\n      className: \"coach-detail-modal\",\n      message: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"coach-details-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"coach-info-block\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: coachProfile.avatar_url || DEFAULT_AVATAR,\n            alt: coachProfile.name,\n            className: \"coach-avatar-large\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 683,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"coach-name\",\n            children: coachProfile.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 688,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u0412\\u0456\\u043A:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 20\n            }, this), \" \", coachProfile.age]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 689,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 690,\n              columnNumber: 20\n            }, this), \" \", coachProfile.email]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 690,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 691,\n              columnNumber: 20\n            }, this), \" \", coachProfile.phone || '—']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 691,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u041E\\u043F\\u0438\\u0441:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 692,\n              columnNumber: 20\n            }, this), \" \", coachProfile.description || /*#__PURE__*/_jsxDEV(\"em\", {\n              children: \"\\u2014\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 692,\n              columnNumber: 72\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 692,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u0423\\u043B\\u044E\\u0431\\u043B\\u0435\\u043D\\u0456 \\u0441\\u043F\\u043E\\u0440\\u0442:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 693,\n              columnNumber: 20\n            }, this), \" \", (coachProfile.favorite_sports || []).join(', ') || /*#__PURE__*/_jsxDEV(\"em\", {\n              children: \"\\u2014\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 693,\n              columnNumber: 103\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 693,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"reviews-summary-block\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0421\\u0435\\u0440\\u0435\\u0434\\u043D\\u044F \\u043E\\u0446\\u0456\\u043D\\u043A\\u0430:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 695,\n                columnNumber: 22\n              }, this), \" \", avgRating !== null && avgRating !== void 0 ? avgRating : '—']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 695,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0412\\u0456\\u0434\\u0433\\u0443\\u043A\\u0456\\u0432:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 696,\n                columnNumber: 22\n              }, this), \" \", reviewCount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 696,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 694,\n            columnNumber: 17\n          }, this), coachError && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"error-message\",\n            children: coachError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 698,\n            columnNumber: 32\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 682,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"coach-reviews-block\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"\\u0412\\u0456\\u0434\\u0433\\u0443\\u043A\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 701,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"reviews-list-scroll\",\n            children: reviews.length > 0 ? reviews.map(r => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"review-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"review-card-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"review-user-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: r.athlete_avatar_url || DEFAULT_AVATAR,\n                    alt: \"Avatar\",\n                    className: \"reviewer-avatar-small\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 707,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"review-username\",\n                    children: r.athlete_name || 'Анонім'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 712,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 706,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"review-meta\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"review-rating\",\n                    children: '★'.repeat(r.rating) + '☆'.repeat(5 - r.rating)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 715,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"review-date\",\n                    children: new Date(r.created_at).toLocaleDateString('uk-UA', {\n                      day: '2-digit',\n                      month: '2-digit',\n                      year: 'numeric'\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 716,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 714,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 705,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"review-text\",\n                children: r.comment\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 721,\n                columnNumber: 23\n              }, this), r.athlete_id === localStorage.getItem('userId') && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"review-actions\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => startEditReview(r),\n                  children: \"\\u0420\\u0435\\u0434\\u0430\\u0433\\u0443\\u0432\\u0430\\u0442\\u0438\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 724,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDeleteReview(r.id),\n                  children: \"\\u0412\\u0438\\u0434\\u0430\\u043B\\u0438\\u0442\\u0438\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 725,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 723,\n                columnNumber: 25\n              }, this)]\n            }, r.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 704,\n              columnNumber: 21\n            }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"no-reviews\",\n              children: /*#__PURE__*/_jsxDEV(\"em\", {\n                children: \"\\u041D\\u0435\\u043C\\u0430\\u0454 \\u0432\\u0456\\u0434\\u0433\\u0443\\u043A\\u0456\\u0432\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 730,\n                columnNumber: 47\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 730,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 702,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"submit-review\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: editingReviewId ? 'Редагувати відгук' : 'Залишити відгук'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 734,\n              columnNumber: 19\n            }, this), coachError && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"error-message\",\n              children: coachError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 735,\n              columnNumber: 34\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u041E\\u0446\\u0456\\u043D\\u043A\\u0430:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 736,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: newRating,\n              onChange: e => setNewRating(+e.target.value),\n              children: [5, 4, 3, 2, 1].map(n => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: n,\n                children: '★'.repeat(n)\n              }, n, false, {\n                fileName: _jsxFileName,\n                lineNumber: 738,\n                columnNumber: 43\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 737,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u041A\\u043E\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 740,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"review-textarea\",\n              value: newComment,\n              onChange: e => setNewComment(e.target.value),\n              placeholder: \"\\u0412\\u0430\\u0448 \\u0432\\u0456\\u0434\\u0433\\u0443\\u043A...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 741,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"submit-review-btn\",\n              disabled: !newComment.trim(),\n              onClick: handleSubmitReview,\n              children: editingReviewId ? 'Оновити відгук' : 'Відправити відгук'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 747,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 733,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 700,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 681,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 676,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 522,\n    columnNumber: 5\n  }, this);\n}\n_s(AthleteDashboard, \"RfDYyXMpOCp9gOK1uIaXKlMFJok=\", false, function () {\n  return [useHistory];\n});\n_c = AthleteDashboard;\nvar _c;\n$RefreshReg$(_c, \"AthleteDashboard\");","map":{"version":3,"names":["React","useState","useEffect","useHistory","NavigationPanel","AvailableTrainingsSection","YourTrainingsSection","HistorySection","ProfileSection","Modal","API_BASE_URL","getTrainings","getAthleteTrainings","getAthleteProfile","getRecommendations","getCoachProfile","getCoachReviews","submitReview","updateReview","deleteReview","signupForTraining","cancelEnrollment","changeAthletePassword","updateAthleteProfile","uploadAthleteAvatar","getTrainingParticipants","footballLogo","basketballLogo","badmintonLogo","volleyballLogo","baseballLogo","rugbyLogo","hockeyLogo","karateLogo","boxingLogo","wushuLogo","jiuJitsuLogo","mmaLogo","runningLogo","jumpingLogo","throwingLogo","swimmingLogo","sailingLogo","canoeingLogo","skateboardingLogo","snowboardingLogo","climbingLogo","fitnessLogo","strengthTrainingLogo","yogaLogo","jsxDEV","_jsxDEV","sportLogos","sportCategories","DEFAULT_AVATAR","AthleteDashboard","_s","history","activeTab","setActiveTab","allTrainings","setAllTrainings","registeredTrainings","setRegisteredTrainings","recommendations","setRecommendations","profile","setProfile","error","setError","modalMessage","setModalMessage","showModal","setShowModal","showCancelConfirm","setShowCancelConfirm","toCancel","setToCancel","coachProfile","setCoachProfile","showCoachModal","setShowCoachModal","coachError","setCoachError","reviews","setReviews","avgRating","setAvgRating","reviewCount","setReviewCount","newRating","setNewRating","newComment","setNewComment","editingReviewId","setEditingReviewId","editProfileMode","setEditProfileMode","nameInput","setNameInput","ageInput","setAgeInput","phoneInput","setPhoneInput","descriptionInput","setDescriptionInput","favoriteSports","setFavoriteSports","avatarFile","setAvatarFile","avatarPreview","setAvatarPreview","profileError","setProfileError","showProfileSuccess","setShowProfileSuccess","showPassMode","setShowPassMode","oldPass","setOldPass","newPass","setNewPass","confirmPass","setConfirmPass","passError","setPassError","passSuccess","setPassSuccess","filterCategory","setFilterCategory","filterSection","setFilterSection","sortOption","setSortOption","selectedTraining","setSelectedTraining","participants","setParticipants","athleteId","localStorage","getItem","Promise","all","then","allRes","regRes","profRes","recRes","trainings","prof","name","age","phone","description","favorite_sports","avatar_url","Date","now","enriched","map","r","full","find","t","_id","id","catch","err","console","message","fetchAllTrainings","fetchRegisteredTrainings","formatDate","iso","toLocaleDateString","day","month","year","formatTime","toLocaleTimeString","hour","minute","handleFilterCategory","cat","handleFilterSection","sec","handleSortOption","opt","handleSignup","trainingId","res","prev","filter","openCancelConfirm","training","handleCancelEnrollment","handleRefreshRecommendations","recs","handleViewDetails","handleCoachClick","coachId","coach","raw","average_rating","count","withAvatars","athlete_id","athlete_avatar_url","ath","url","startsWith","handleSubmitReview","trim","rating","comment","coach_id","user_id","handleDeleteReview","startEditReview","handleProfileFieldChange","e","value","target","toggleSport","sport","includes","s","handleSaveProfile","ageNum","parseInt","isNaN","updated","cancelEditProfile","handleAvatarFileChange","file","files","URL","createObjectURL","handleAvatarUpload","fullUrl","handleChangePassword","old_password","new_password","confirm_password","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onTabChange","onFilterCategory","onFilterSection","onSortOption","onResetFilters","onSignup","onViewCoach","onRefreshRecs","onViewDetails","onCancel","editMode","allSections","Object","values","flat","onToggleEditMode","onChangeField","onSaveProfile","onCancelEdit","onAvatarFileChange","onAvatarUpload","onCloseProfileSuccess","onTogglePasswordMode","onChangePassword","onCancelPassword","modalType","onClose","section","src","alt","start_time","end_time","price","currency","onClick","coach_name","length","p","onError","currentTarget","email","join","athlete_name","repeat","created_at","onChange","n","placeholder","disabled","_c","$RefreshReg$"],"sources":["D:/ProjectD/client/src/components/Dashboards/AthleteDashboard/AthleteDashboard.js"],"sourcesContent":["// src/components/AthleteDashboard/AthleteDashboard.js\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport NavigationPanel from './NavigationPanel';\r\nimport AvailableTrainingsSection from './AvailableTrainingsSection';\r\nimport YourTrainingsSection from './YourTrainingsSection';\r\nimport HistorySection         from './HistorySection';\r\nimport ProfileSection from './ProfileSection';\r\nimport Modal from '../../Common/Modal';\r\nimport {\r\n  API_BASE_URL,\r\n  getTrainings,\r\n  getAthleteTrainings,\r\n  getAthleteProfile,\r\n  getRecommendations,\r\n  getCoachProfile,\r\n  getCoachReviews,\r\n  submitReview,\r\n  updateReview,\r\n  deleteReview,\r\n  signupForTraining,\r\n  cancelEnrollment,\r\n  changeAthletePassword,\r\n  updateAthleteProfile,\r\n  uploadAthleteAvatar,\r\n  getTrainingParticipants\r\n} from '../../../services/api';\r\nimport './AthleteDashboard.css';\r\n\r\n// Імпорти логотипів\r\nimport footballLogo         from '../../../assets/logos/football.jpg';\r\nimport basketballLogo       from '../../../assets/logos/basketball.jpg';\r\nimport badmintonLogo        from '../../../assets/logos/badminton.jpg';\r\nimport volleyballLogo       from '../../../assets/logos/volleyball.jpg';\r\nimport baseballLogo         from '../../../assets/logos/baseball.jpg';\r\nimport rugbyLogo            from '../../../assets/logos/rugby.jpg';\r\nimport hockeyLogo           from '../../../assets/logos/hockey.jpg';\r\nimport karateLogo           from '../../../assets/logos/karate.jpg';\r\nimport boxingLogo           from '../../../assets/logos/boxing.jpg';\r\nimport wushuLogo            from '../../../assets/logos/wushu.jpg';\r\nimport jiuJitsuLogo         from '../../../assets/logos/jiu_jitsu.jpg';\r\nimport mmaLogo              from '../../../assets/logos/mma.jpg';\r\nimport runningLogo          from '../../../assets/logos/running.jpg';\r\nimport jumpingLogo          from '../../../assets/logos/jumping.jpg';\r\nimport throwingLogo         from '../../../assets/logos/throwing.jpg';\r\nimport swimmingLogo         from '../../../assets/logos/swimming.jpg';\r\nimport sailingLogo          from '../../../assets/logos/sailing.jpg';\r\nimport canoeingLogo         from '../../../assets/logos/canoeing.jpg';\r\nimport skateboardingLogo    from '../../../assets/logos/skateboarding.jpg';\r\nimport snowboardingLogo     from '../../../assets/logos/snowboarding.jpg';\r\nimport climbingLogo         from '../../../assets/logos/climbing.jpg';\r\nimport fitnessLogo          from '../../../assets/logos/fitness.jpg';\r\nimport strengthTrainingLogo from '../../../assets/logos/strength_training.jpg';\r\nimport yogaLogo             from '../../../assets/logos/yoga.jpg';\r\n\r\n// Мапа секція → логотип\r\nconst sportLogos = {\r\n  \"Футбол\": footballLogo,\r\n  \"Баскетбол\": basketballLogo,\r\n  \"Бадмінтон\": badmintonLogo,\r\n  \"Волейбол\": volleyballLogo,\r\n  \"Бейсбол\": baseballLogo,\r\n  \"Регбі\": rugbyLogo,\r\n  \"Хокей\": hockeyLogo,\r\n  \"Карате\": karateLogo,\r\n  \"Бокс\": boxingLogo,\r\n  \"Ушу\": wushuLogo,\r\n  \"Джиу-джитсу\": jiuJitsuLogo,\r\n  \"ММА\": mmaLogo,\r\n  \"Біг\": runningLogo,\r\n  \"Стрибки\": jumpingLogo,\r\n  \"Метання\": throwingLogo,\r\n  \"Плавання\": swimmingLogo,\r\n  \"Вітрильний спорт\": sailingLogo,\r\n  \"Каноїзм\": canoeingLogo,\r\n  \"Скейбординг\": skateboardingLogo,\r\n  \"Сноубординг\": snowboardingLogo,\r\n  \"Альпінізм\": climbingLogo,\r\n  \"Фітнес\": fitnessLogo,\r\n  \"Силові тренування\": strengthTrainingLogo,\r\n  \"Йога\": yogaLogo\r\n};\r\n\r\n// Мапа категорія → список секцій\r\nconst sportCategories = {\r\n  \"Ігри з м'ячем\": [\"Футбол\",\"Баскетбол\",\"Бадмінтон\",\"Волейбол\",\"Бейсбол\",\"Регбі\",\"Хокей\"],\r\n  \"Бойові мистецтва\": [\"Карате\",\"Бокс\",\"Ушу\",\"Джиу-джитсу\",\"ММА\"],\r\n  \"Легка атлетика\": [\"Біг\",\"Стрибки\",\"Метання\"],\r\n  \"Водні види спорту\": [\"Плавання\",\"Вітрильний спорт\",\"Каноїзм\"],\r\n  \"Екстремальні види спорту\": [\"Скейбординг\",\"Сноубординг\",\"Альпінізм\"],\r\n  \"Фітнес та тренажерний зал\": [\"Фітнес\",\"Силові тренування\",\"Йога\"]\r\n};\r\n\r\nconst DEFAULT_AVATAR = `${API_BASE_URL}/avatars/default.png`;\r\n\r\nexport default function AthleteDashboard() {\r\n  const history = useHistory();\r\n\r\n  // Навігація\r\n  const [activeTab, setActiveTab] = useState('available');\r\n\r\n  // Загальні дані\r\n  const [allTrainings, setAllTrainings]               = useState([]);\r\n  const [registeredTrainings, setRegisteredTrainings] = useState([]);\r\n  const [recommendations, setRecommendations]         = useState([]);\r\n  const [profile, setProfile]                         = useState(null);\r\n  const [error, setError]                             = useState('');\r\n\r\n  // Модалки та повідомлення\r\n  const [modalMessage, setModalMessage]                = useState('');\r\n  const [showModal, setShowModal]                      = useState(false);\r\n  const [showCancelConfirm, setShowCancelConfirm]      = useState(false);\r\n  const [toCancel, setToCancel]                        = useState(null);\r\n\r\n  // Модалка тренера та відгуки\r\n  const [coachProfile, setCoachProfile]                = useState(null);\r\n  const [showCoachModal, setShowCoachModal]            = useState(false);\r\n  const [coachError, setCoachError]                    = useState('');\r\n  const [reviews, setReviews]                          = useState([]);\r\n  const [avgRating, setAvgRating]                      = useState(null);\r\n  const [reviewCount, setReviewCount]                  = useState(0);\r\n  const [newRating, setNewRating]                      = useState(5);\r\n  const [newComment, setNewComment]                    = useState('');\r\n  const [editingReviewId, setEditingReviewId]          = useState(null);\r\n\r\n  // Профіль спортсмена\r\n  const [editProfileMode, setEditProfileMode]          = useState(false);\r\n  const [nameInput, setNameInput]                      = useState('');\r\n  const [ageInput, setAgeInput]                        = useState('');\r\n  const [phoneInput, setPhoneInput]                    = useState('');\r\n  const [descriptionInput, setDescriptionInput]        = useState('');\r\n  const [favoriteSports, setFavoriteSports]            = useState([]);\r\n  const [avatarFile, setAvatarFile]                    = useState(null);\r\n  const [avatarPreview, setAvatarPreview]              = useState('');\r\n  const [profileError, setProfileError]                = useState('');\r\n  const [showProfileSuccess, setShowProfileSuccess]    = useState(false);\r\n  const [showPassMode, setShowPassMode]                = useState(false);\r\n  const [oldPass, setOldPass]                          = useState('');\r\n  const [newPass, setNewPass]                          = useState('');\r\n  const [confirmPass, setConfirmPass]                  = useState('');\r\n  const [passError, setPassError]                      = useState('');\r\n  const [passSuccess, setPassSuccess]                  = useState(false);\r\n\r\n  // Фільтри для доступних тренувань\r\n  const [filterCategory, setFilterCategory] = useState('');\r\n  const [filterSection, setFilterSection]   = useState('');\r\n  const [sortOption, setSortOption]         = useState('date_asc');\r\n\r\n  // Для модалки деталей тренування\r\n  const [selectedTraining, setSelectedTraining] = useState(null);\r\n  const [participants, setParticipants]         = useState([]);\r\n\r\n  // Початкове завантаження даних\r\n  useEffect(() => {\r\n    const athleteId = localStorage.getItem('userId');\r\n    if (!athleteId) {\r\n      setError('Будь ласка, увійдіть як спортсмен');\r\n      return;\r\n    }\r\n\r\n    Promise.all([\r\n      getTrainings(),\r\n      getAthleteTrainings(athleteId),\r\n      getAthleteProfile(athleteId),\r\n      getRecommendations(athleteId)\r\n    ])\r\n      .then(([allRes, regRes, profRes, recRes]) => {\r\n        // Тренування\r\n        setAllTrainings(allRes.trainings);\r\n        setRegisteredTrainings(regRes.trainings);\r\n\r\n        // Профіль спортсмена\r\n        const prof = profRes.profile;\r\n        setProfile(prof);\r\n        setNameInput(prof.name);\r\n        setAgeInput(prof.age);\r\n        setPhoneInput(prof.phone || '');\r\n        setDescriptionInput(prof.description || '');\r\n        setFavoriteSports(prof.favorite_sports || []);\r\n        setAvatarPreview(\r\n          prof.avatar_url\r\n            ? `${prof.avatar_url}?t=${Date.now()}`\r\n            : DEFAULT_AVATAR\r\n        );\r\n\r\n        // Рекомендації\r\n        const enriched = recRes.recommendations.map(r => {\r\n          const full = allRes.trainings.find(t => t._id === r.id);\r\n          return full ? { ...full, ...r } : { ...r };\r\n        });\r\n        setRecommendations(enriched);\r\n      })\r\n      .catch(err => {\r\n        console.error(err);\r\n        setError(err.message);\r\n      });\r\n  }, []);\r\n\r\n  // Оновлення списків\r\n  const fetchAllTrainings = async () => {\r\n    try {\r\n      const { trainings } = await getTrainings();\r\n      setAllTrainings(trainings);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n  };\r\n  const fetchRegisteredTrainings = async () => {\r\n    const athleteId = localStorage.getItem('userId');\r\n    try {\r\n      const { trainings } = await getAthleteTrainings(athleteId);\r\n      setRegisteredTrainings(trainings);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  // Формат дати/часу\r\n  const formatDate = iso =>\r\n    new Date(iso).toLocaleDateString('uk-UA', { day: '2-digit', month: '2-digit', year: 'numeric' });\r\n  const formatTime = iso =>\r\n    new Date(iso).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n\r\n  // Обробники фільтрів\r\n  const handleFilterCategory = cat => {\r\n    setFilterCategory(cat);\r\n    setFilterSection('');\r\n  };\r\n  const handleFilterSection = sec => setFilterSection(sec);\r\n  const handleSortOption = opt => setSortOption(opt);\r\n\r\n  // Хендлери запису/скасування\r\n  const handleSignup = async trainingId => {\r\n    setError('');\r\n    const athleteId = localStorage.getItem('userId');\r\n    try {\r\n      const res = await signupForTraining(trainingId, athleteId);\r\n      setModalMessage(res.message);\r\n      setShowModal(true);\r\n      fetchAllTrainings();\r\n      fetchRegisteredTrainings();\r\n      setRecommendations(prev => prev.filter(r => r._id !== trainingId));\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n  };\r\n  const openCancelConfirm = training => {\r\n    setToCancel(training);\r\n    setShowCancelConfirm(true);\r\n  };\r\n  const handleCancelEnrollment = async () => {\r\n    const athleteId = localStorage.getItem('userId');\r\n    try {\r\n      await cancelEnrollment(toCancel._id, athleteId);\r\n      setModalMessage('Запис успішно скасовано.');\r\n      setShowModal(true);\r\n      setShowCancelConfirm(false);\r\n      fetchAllTrainings();\r\n      fetchRegisteredTrainings();\r\n    } catch (err) {\r\n      setError(err.message);\r\n      setShowCancelConfirm(false);\r\n    }\r\n  };\r\n\r\n  // Оновити рекомендації\r\n  const handleRefreshRecommendations = async () => {\r\n    try {\r\n      const athleteId = localStorage.getItem('userId');\r\n      const { recommendations: recs } = await getRecommendations(athleteId);\r\n      const enriched = recs.map(r => {\r\n        const full = allTrainings.find(t => t._id === r.id);\r\n        return full ? { ...full, ...r } : { ...r };\r\n      });\r\n      setRecommendations(enriched);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  // Перегляд деталей тренування\r\n  const handleViewDetails = async training => {\r\n    setSelectedTraining(training);\r\n    try {\r\n      const { participants } = await getTrainingParticipants(training._id);\r\n      setParticipants(participants);\r\n      setShowModal(true);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  // Перегляд профілю тренера + відгуки\r\n  const handleCoachClick = async coachId => {\r\n    setCoachError('');\r\n    try {\r\n      const { profile: coach } = await getCoachProfile(coachId);\r\n      setCoachProfile(coach);\r\n      const { reviews: raw, average_rating, count } = await getCoachReviews(coachId);\r\n      // Додаємо аватарки спортсменів\r\n      const withAvatars = await Promise.all(\r\n        raw.map(async r => {\r\n          if (!r.athlete_id) return { ...r, athlete_avatar_url: DEFAULT_AVATAR };\r\n          try {\r\n            const { profile: ath } = await getAthleteProfile(r.athlete_id);\r\n            const url = ath.avatar_url\r\n              ? (ath.avatar_url.startsWith('http') ? ath.avatar_url : `${API_BASE_URL}${ath.avatar_url}`)\r\n              : DEFAULT_AVATAR;\r\n            return { ...r, athlete_avatar_url: `${url}?t=${Date.now()}` };\r\n          } catch {\r\n            return { ...r, athlete_avatar_url: DEFAULT_AVATAR };\r\n          }\r\n        })\r\n      );\r\n      setReviews(withAvatars);\r\n      setAvgRating(average_rating);\r\n      setReviewCount(count);\r\n      setNewRating(5);\r\n      setNewComment('');\r\n      setEditingReviewId(null);\r\n      setShowCoachModal(true);\r\n    } catch (err) {\r\n      setCoachError(err.message);\r\n    }\r\n  };\r\n\r\n  // Відправка/оновлення/видалення відгуку\r\n  const handleSubmitReview = async () => {\r\n    const athleteId = localStorage.getItem('userId');\r\n    if (!newComment.trim()) {\r\n      setCoachError('Коментар не може бути порожнім');\r\n      return;\r\n    }\r\n    if (!athleteId) {\r\n      setCoachError('Увійдіть, щоб залишити відгук');\r\n      return;\r\n    }\r\n    try {\r\n      if (editingReviewId) {\r\n        await updateReview(editingReviewId, {\r\n          athlete_id: athleteId,\r\n          rating: newRating,\r\n          comment: newComment\r\n        });\r\n      } else {\r\n        await submitReview({\r\n          coach_id: coachProfile.user_id,\r\n          athlete_id: athleteId,\r\n          rating: newRating,\r\n          comment: newComment\r\n        });\r\n      }\r\n      // Оновити список відгуків\r\n      const { reviews: raw, average_rating, count } = await getCoachReviews(coachProfile.user_id);\r\n      const withAvatars = await Promise.all(\r\n        raw.map(async r => {\r\n          if (!r.athlete_id) return { ...r, athlete_avatar_url: DEFAULT_AVATAR };\r\n          try {\r\n            const { profile: ath } = await getAthleteProfile(r.athlete_id);\r\n            const url = ath.avatar_url\r\n              ? (ath.avatar_url.startsWith('http') ? ath.avatar_url : `${API_BASE_URL}${ath.avatar_url}`)\r\n              : DEFAULT_AVATAR;\r\n            return { ...r, athlete_avatar_url: `${url}?t=${Date.now()}` };\r\n          } catch {\r\n            return { ...r, athlete_avatar_url: DEFAULT_AVATAR };\r\n          }\r\n        })\r\n      );\r\n      setReviews(withAvatars);\r\n      setAvgRating(average_rating);\r\n      setReviewCount(count);\r\n      setEditingReviewId(null);\r\n      setNewRating(5);\r\n      setNewComment('');\r\n    } catch (err) {\r\n      setCoachError(err.message);\r\n    }\r\n  };\r\n  const handleDeleteReview = async id => {\r\n    setCoachError('');\r\n    const athleteId = localStorage.getItem('userId');\r\n    try {\r\n      await deleteReview(id, athleteId);\r\n      const { reviews: raw, average_rating, count } = await getCoachReviews(coachProfile.user_id);\r\n      const withAvatars = await Promise.all(\r\n        raw.map(async r => {\r\n          if (!r.athlete_id) return { ...r, athlete_avatar_url: DEFAULT_AVATAR };\r\n          try {\r\n            const { profile: ath } = await getAthleteProfile(r.athlete_id);\r\n            const url = ath.avatar_url\r\n              ? (ath.avatar_url.startsWith('http') ? ath.avatar_url : `${API_BASE_URL}${ath.avatar_url}`)\r\n              : DEFAULT_AVATAR;\r\n            return { ...r, athlete_avatar_url: `${url}?t=${Date.now()}` };\r\n          } catch {\r\n            return { ...r, athlete_avatar_url: DEFAULT_AVATAR };\r\n          }\r\n        })\r\n      );\r\n      setReviews(withAvatars);\r\n      setAvgRating(average_rating);\r\n      setReviewCount(count);\r\n      setEditingReviewId(null);\r\n      setNewComment('');\r\n      setNewRating(5);\r\n    } catch (err) {\r\n      setCoachError(err.message);\r\n    }\r\n  };\r\n  const startEditReview = r => {\r\n    setCoachError('');\r\n    setEditingReviewId(r.id);\r\n    setNewRating(r.rating);\r\n    setNewComment(r.comment);\r\n  };\r\n\r\n  // Зміна полів профілю\r\n  const handleProfileFieldChange = e => {\r\n    const { name, value } = e.target;\r\n    switch (name) {\r\n      case 'nameInput': setNameInput(value); break;\r\n      case 'ageInput': setAgeInput(value); break;\r\n      case 'phoneInput': setPhoneInput(value); break;\r\n      case 'descriptionInput': setDescriptionInput(value); break;\r\n      case 'oldPass': setOldPass(value); break;\r\n      case 'newPass': setNewPass(value); break;\r\n      case 'confirmPass': setConfirmPass(value); break;\r\n      default: break;\r\n    }\r\n  };\r\n  const toggleSport = sport => {\r\n    setFavoriteSports(prev =>\r\n      prev.includes(sport) ? prev.filter(s => s !== sport) : [...prev, sport]\r\n    );\r\n  };\r\n\r\n  // Збереження профілю\r\n  const handleSaveProfile = async () => {\r\n    setProfileError('');\r\n    if (!nameInput.trim()) {\r\n      setProfileError('Поле \"Ім\\'я\" обов\\'язкове');\r\n      return;\r\n    }\r\n    const ageNum = parseInt(ageInput, 10);\r\n    if (isNaN(ageNum) || ageNum < 18) {\r\n      setProfileError('Вік має бути ≥ 18');\r\n      return;\r\n    }\r\n    try {\r\n      const { profile: updated } = await updateAthleteProfile({\r\n        user_id: profile.user_id,\r\n        name: nameInput.trim(),\r\n        age: ageNum,\r\n        phone: phoneInput,\r\n        description: descriptionInput,\r\n        favorite_sports: favoriteSports\r\n      });\r\n      setProfile(updated);\r\n      setShowProfileSuccess(true);\r\n      setEditProfileMode(false);\r\n    } catch (err) {\r\n      setProfileError(err.message);\r\n    }\r\n  };\r\n  const cancelEditProfile = () => {\r\n    setEditProfileMode(false);\r\n    setProfileError('');\r\n    setNameInput(profile.name);\r\n    setAgeInput(profile.age);\r\n    setPhoneInput(profile.phone || '');\r\n    setDescriptionInput(profile.description || '');\r\n    setFavoriteSports(profile.favorite_sports || []);\r\n  };\r\n\r\n  // Завантаження аватара\r\n  const handleAvatarFileChange = e => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n    setAvatarFile(file);\r\n    setAvatarPreview(URL.createObjectURL(file));\r\n  };\r\n  const handleAvatarUpload = async () => {\r\n    if (!avatarFile) return;\r\n    setProfileError('');\r\n    try {\r\n      const { avatar_url } = await uploadAthleteAvatar(profile.user_id, avatarFile);\r\n      const fullUrl = avatar_url.startsWith('http') ? avatar_url : `${API_BASE_URL}${avatar_url}`;\r\n      setAvatarPreview(`${fullUrl}?t=${Date.now()}`);\r\n      setProfile(prev => ({ ...prev, avatar_url: fullUrl }));\r\n      setAvatarFile(null);\r\n      setShowProfileSuccess(true);\r\n    } catch (err) {\r\n      setProfileError(err.message);\r\n    }\r\n  };\r\n\r\n  // Зміна пароля\r\n  const handleChangePassword = async () => {\r\n    setPassError('');\r\n    if (newPass !== confirmPass) {\r\n      setPassError('Паролі не співпадають');\r\n      return;\r\n    }\r\n    try {\r\n      await changeAthletePassword({\r\n        user_id: profile.user_id,\r\n        old_password: oldPass,\r\n        new_password: newPass,\r\n        confirm_password: confirmPass\r\n      });\r\n      setPassSuccess(true);\r\n      setShowPassMode(false);\r\n      setOldPass('');\r\n      setNewPass('');\r\n      setConfirmPass('');\r\n    } catch (err) {\r\n      setPassError(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboard-container\">\r\n      {error && <p className=\"error-message\">{error}</p>}\r\n\r\n      <NavigationPanel activeTab={activeTab} onTabChange={setActiveTab} />\r\n\r\n      {activeTab === 'available' && (\r\n          <AvailableTrainingsSection\r\n         allTrainings={allTrainings}\r\n         registeredTrainings={registeredTrainings}\r\n         recommendations={recommendations}\r\n         filterCategory={filterCategory}\r\n         filterSection={filterSection}\r\n         sortOption={sortOption}\r\n         onFilterCategory={setFilterCategory}\r\n         onFilterSection={setFilterSection}\r\n         onSortOption={setSortOption}\r\n         onResetFilters={() => {\r\n           setFilterCategory('');\r\n           setFilterSection('');\r\n           setSortOption('date_asc');\r\n         }}\r\n         sportCategories={sportCategories}\r\n         sportLogos={sportLogos}\r\n         onSignup={handleSignup}\r\n         onViewCoach={handleCoachClick}\r\n         onRefreshRecs={handleRefreshRecommendations}\r\n        />\r\n      )}\r\n\r\n      {activeTab === 'registered' && (\r\n        <YourTrainingsSection\r\n          registeredTrainings={registeredTrainings}\r\n          sportLogos={sportLogos}\r\n          onViewDetails={handleViewDetails}\r\n          onCancel={openCancelConfirm}\r\n          onViewCoach={handleCoachClick}\r\n        />\r\n      )}\r\n\r\n      {activeTab === 'profile' && profile && (\r\n        <ProfileSection\r\n          profile={profile}\r\n          editMode={editProfileMode}\r\n          nameInput={nameInput}\r\n          ageInput={ageInput}\r\n          phoneInput={phoneInput}\r\n          descriptionInput={descriptionInput}\r\n          favoriteSports={favoriteSports}\r\n          allSections={Object.values(sportCategories).flat()}\r\n          onToggleEditMode={() => setEditProfileMode(true)}\r\n          onChangeField={handleProfileFieldChange}\r\n          toggleSport={toggleSport}\r\n          onSaveProfile={handleSaveProfile}\r\n          onCancelEdit={cancelEditProfile}\r\n          avatarPreview={avatarPreview}\r\n          avatarFile={avatarFile}\r\n          onAvatarFileChange={handleAvatarFileChange}\r\n          onAvatarUpload={handleAvatarUpload}\r\n          showProfileSuccess={showProfileSuccess}\r\n          onCloseProfileSuccess={() => setShowProfileSuccess(false)}\r\n          showPassMode={showPassMode}\r\n          onTogglePasswordMode={() => setShowPassMode(true)}\r\n          oldPass={oldPass}\r\n          newPass={newPass}\r\n          confirmPass={confirmPass}\r\n          onChangePassword={handleChangePassword}\r\n          onCancelPassword={() => setShowPassMode(false)}\r\n          passError={passError}\r\n          passSuccess={passSuccess}\r\n        />\r\n      )}\r\n\r\n      {/* Успішна модалка */}\r\n      {showModal && !selectedTraining && (\r\n        <Modal modalType=\"success\" message={modalMessage} onClose={() => setShowModal(false)} />\r\n      )}\r\n\r\n      {/* Деталі тренування */}\r\n      {showModal && selectedTraining && (\r\n        <Modal\r\n          modalType=\"info\"\r\n          onClose={() => { setShowModal(false); setSelectedTraining(null); }}\r\n          className=\"training-detail-modal\"\r\n          message={\r\n            <div className=\"training-detail-modal\">\r\n              <div className=\"modal-left\">\r\n                <h3 className=\"block-title\">Загальна інформація</h3>\r\n                <div className=\"general-info\">\r\n                  {sportLogos[selectedTraining.section] && (\r\n                    <img\r\n                      src={sportLogos[selectedTraining.section]}\r\n                      alt={selectedTraining.section}\r\n                      className=\"section-logo-lg\"\r\n                    />\r\n                  )}\r\n                  <div className=\"general-info-text\">\r\n                    <p><strong>Секція:</strong> {selectedTraining.section}</p>\r\n                    <p><strong>Дата:</strong> {formatDate(selectedTraining.start_time)}</p>\r\n                    <p><strong>Час:</strong> {`${formatTime(selectedTraining.start_time)} – ${formatTime(selectedTraining.end_time)}`}</p>\r\n                    <p><strong>Ціна:</strong> {selectedTraining.price} {selectedTraining.currency}</p>\r\n                    <p><strong>Тренер:</strong>{' '}\r\n                      <span className=\"coach-name-link\" onClick={() => handleCoachClick(selectedTraining.coach_id)}>\r\n                        {selectedTraining.coach_name}\r\n                      </span>\r\n                    </p>\r\n                    <p><strong>Учасників:</strong> {participants.length}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"modal-right\">\r\n                <h3 className=\"block-title\">Учасники</h3>\r\n                <div className=\"participants-list\">\r\n                  {participants.length > 0 ? participants.map(p => (\r\n                    <div key={p.user_id} className=\"participant-item\">\r\n                      <img\r\n                        src={p.avatar_url || DEFAULT_AVATAR}\r\n                        alt={p.name}\r\n                        className=\"participant-avatar\"\r\n                        onError={e => { e.currentTarget.src = DEFAULT_AVATAR; }}\r\n                      />\r\n                      <div className=\"participant-details\">\r\n                        <p className=\"participant-name\">{p.name}</p>\r\n                        <p className=\"participant-age\">Вік: {p.age}</p>\r\n                      </div>\r\n                    </div>\r\n                  )) : (\r\n                    <p className=\"no-participants\"><em>Ніхто не записався.</em></p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          }\r\n        />\r\n      )}\r\n\r\n      {/* Підтвердження скасування */}\r\n      {showCancelConfirm && (\r\n        <Modal\r\n          modalType=\"confirm\"\r\n          onClose={() => setShowCancelConfirm(false)}\r\n          message={\r\n            <div className=\"cancel-modal\">\r\n              <p>Ви впевнені, що хочете скасувати запис?</p>\r\n              <div className=\"cancel-modal-buttons\">\r\n                <button className=\"confirm-btn\" onClick={handleCancelEnrollment}>Так</button>\r\n                <button className=\"cancel-btn\" onClick={() => setShowCancelConfirm(false)}>Ні</button>\r\n              </div>\r\n            </div>\r\n          }\r\n        />\r\n      )}\r\n\r\n      {/* Модалка тренера + відгуки */}\r\n      {showCoachModal && coachProfile && (\r\n        <Modal\r\n          modalType=\"info\"\r\n          onClose={() => setShowCoachModal(false)}\r\n          className=\"coach-detail-modal\"\r\n          message={\r\n            <div className=\"coach-details-container\">\r\n              <div className=\"coach-info-block\">\r\n                <img\r\n                  src={coachProfile.avatar_url || DEFAULT_AVATAR}\r\n                  alt={coachProfile.name}\r\n                  className=\"coach-avatar-large\"\r\n                />\r\n                <h3 className=\"coach-name\">{coachProfile.name}</h3>\r\n                <p><strong>Вік:</strong> {coachProfile.age}</p>\r\n                <p><strong>Email:</strong> {coachProfile.email}</p>\r\n                <p><strong>Телефон:</strong> {coachProfile.phone || '—'}</p>\r\n                <p><strong>Опис:</strong> {coachProfile.description || <em>—</em>}</p>\r\n                <p><strong>Улюблені спорт:</strong> {(coachProfile.favorite_sports||[]).join(', ') || <em>—</em>}</p>\r\n                <div className=\"reviews-summary-block\">\r\n                  <p><strong>Середня оцінка:</strong> {avgRating ?? '—'}</p>\r\n                  <p><strong>Відгуків:</strong> {reviewCount}</p>\r\n                </div>\r\n                {coachError && <p className=\"error-message\">{coachError}</p>}\r\n              </div>\r\n              <div className=\"coach-reviews-block\">\r\n                <h4>Відгуки</h4>\r\n                <div className=\"reviews-list-scroll\">\r\n                  {reviews.length > 0 ? reviews.map(r => (\r\n                    <div key={r.id} className=\"review-card\">\r\n                      <div className=\"review-card-header\">\r\n                        <div className=\"review-user-info\">\r\n                          <img\r\n                            src={r.athlete_avatar_url || DEFAULT_AVATAR}\r\n                            alt=\"Avatar\"\r\n                            className=\"reviewer-avatar-small\"\r\n                          />\r\n                          <span className=\"review-username\">{r.athlete_name || 'Анонім'}</span>\r\n                        </div>\r\n                        <div className=\"review-meta\">\r\n                          <span className=\"review-rating\">{'★'.repeat(r.rating) + '☆'.repeat(5 - r.rating)}</span>\r\n                          <small className=\"review-date\">\r\n                            {new Date(r.created_at).toLocaleDateString('uk-UA', { day:'2-digit', month:'2-digit', year:'numeric' })}\r\n                          </small>\r\n                        </div>\r\n                      </div>\r\n                      <p className=\"review-text\">{r.comment}</p>\r\n                      {r.athlete_id === localStorage.getItem('userId') && (\r\n                        <div className=\"review-actions\">\r\n                          <button onClick={() => startEditReview(r)}>Редагувати</button>\r\n                          <button onClick={() => handleDeleteReview(r.id)}>Видалити</button>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )) : (\r\n                    <p className=\"no-reviews\"><em>Немає відгуків</em></p>\r\n                  )}\r\n                </div>\r\n                <div className=\"submit-review\">\r\n                  <h4>{editingReviewId ? 'Редагувати відгук' : 'Залишити відгук'}</h4>\r\n                  {coachError && <p className=\"error-message\">{coachError}</p>}\r\n                  <label>Оцінка:</label>\r\n                  <select value={newRating} onChange={e => setNewRating(+e.target.value)}>\r\n                    {[5,4,3,2,1].map(n => <option key={n} value={n}>{'★'.repeat(n)}</option>)}\r\n                  </select>\r\n                  <label>Коментар:</label>\r\n                  <textarea\r\n                    className=\"review-textarea\"\r\n                    value={newComment}\r\n                    onChange={e => setNewComment(e.target.value)}\r\n                    placeholder=\"Ваш відгук...\"\r\n                  />\r\n                  <button\r\n                    className=\"submit-review-btn\"\r\n                    disabled={!newComment.trim()}\r\n                    onClick={handleSubmitReview}\r\n                  >{editingReviewId ? 'Оновити відгук' : 'Відправити відгук'}</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          }\r\n        />\r\n      )}\r\n\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}